!function(e){"use strict";var t={version:"0.4.1",config:{language:"en",tagName:"span",className:"smartdate",timestampAttr:"timestamp",addTitle:!0,updateInterval:5e3,fullMonthNames:!1}},n=t.daysBetween=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),a=new Date(t.getFullYear(),t.getMonth(),t.getDate()),o=864e5,r=a.getTime()-n.getTime(),i=r/o;return Math.floor(i)},a=t.pad=function(e){return 10>e?"0"+e:e},o=t.formatAMPM=function(e){var t=e.getHours(),n=e.getMinutes(),o=t>=12?"pm":"am";return t%=12,t=t?t:12,n=a(n),t+":"+n+" "+o};t.locale={en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:function(e){var n=t.config.fullMonthNames?this.months:this.monthsShort;return n[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()},sinceNow:function(e){var t=new Date,a=(t.getTime()-e.getTime())/1e3;return 60>a?"less than a minute ago":3600>a?Math.floor(a/60)+" min ago":0===n(t,e)?"today at "+o(e):-1===n(t,e)?"yesterday at "+o(e):void 0}},ru:{months:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],monthsShort:["янв","фев","мар","апр","мая","июн","июл","авг","сен","окт","ноя","дек"],dateFormat:function(e){var n=t.config.fullMonthNames?this.months:this.monthsShort;return e.getDate()+" "+n[e.getMonth()]+" "+e.getFullYear()},sinceNow:function(e){var t=new Date,o=(t.getTime()-e.getTime())/1e3;return 60>o?"менее 1 мин назад":3600>o?Math.floor(o/60)+" мин назад":0===n(t,e)?"сегодня в "+a(e.getHours())+":"+a(e.getMinutes()):-1===n(t,e)?"вчера в "+a(e.getHours())+":"+a(e.getMinutes()):void 0}}},t.getLocale=function(e){return"string"==typeof e&&(e=e.toLowerCase(),t.locale.hasOwnProperty(e))?t.locale[e]:t.locale.en},t.sinceNow=function(e,n){return t.getLocale(n).sinceNow(e)},t.dateFormat=function(e,n){return t.getLocale(n).dateFormat(e)},t.removeClass=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},t.render=function(){for(var e,n,a,o,r=t.config.language,i=t.config.tagName+"."+t.config.className,s=document.querySelectorAll(i),u=0,c=s.length;c>u;u++)e=s[u],n=e.getAttribute("data-"+t.config.timestampAttr),a=new Date(1e3*n),o=t.sinceNow(a,r),o||(o=t.dateFormat(a,r),t.removeClass(e,t.config.className)),e.innerHTML=o,t.config.addTitle&&e.setAttribute("title",a.toLocaleString())},t.init=function(n){n=n||{};for(var a in n)n.hasOwnProperty(a)&&(t.config[a]=n[a]);t.render(),t.config.updateInterval&&e.setInterval(t.render,t.config.updateInterval)},"function"==typeof define&&define.amd?define("smartdate",[],function(){return t}):e.smartdate=t}(window);