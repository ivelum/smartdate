!function(e,t){"use strict";"function"==typeof define&&define.amd?define("smartdate",[],t):"object"==typeof exports?module.exports=t():e.smartdate=t()}(this,function(){"use strict";var e={version:"0.5.0",config:{language:"en",tagName:"span",className:"smartdate",timestampAttr:"timestamp",addTitle:!0,updateInterval:5e3,fullMonthNames:!1}},t=e.daysBetween=function(e,t){var n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),a=new Date(t.getFullYear(),t.getMonth(),t.getDate()),o=864e5,r=a.getTime()-n.getTime(),i=r/o;return Math.floor(i)},n=e.pad=function(e){return 10>e?"0"+e:e},a=e.formatAMPM=function(e){var t=e.getHours(),a=e.getMinutes(),o=t>=12?"pm":"am";return t%=12,t=t?t:12,a=n(a),t+":"+a+" "+o};return e.locale={en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:function(t){var n=e.config.fullMonthNames?this.months:this.monthsShort;return n[t.getMonth()]+" "+t.getDate()+", "+t.getFullYear()},sinceNow:function(e){var n=new Date,o=(n.getTime()-e.getTime())/1e3;return 60>o?"less than a minute ago":3600>o?Math.floor(o/60)+" min ago":0===t(n,e)?"today at "+a(e):-1===t(n,e)?"yesterday at "+a(e):void 0}},ru:{months:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],monthsShort:["янв","фев","мар","апр","мая","июн","июл","авг","сен","окт","ноя","дек"],dateFormat:function(t){var n=e.config.fullMonthNames?this.months:this.monthsShort;return t.getDate()+" "+n[t.getMonth()]+" "+t.getFullYear()},sinceNow:function(e){var a=new Date,o=(a.getTime()-e.getTime())/1e3;return 60>o?"менее 1 мин назад":3600>o?Math.floor(o/60)+" мин назад":0===t(a,e)?"сегодня в "+n(e.getHours())+":"+n(e.getMinutes()):-1===t(a,e)?"вчера в "+n(e.getHours())+":"+n(e.getMinutes()):void 0}}},e.getLocale=function(t){return"string"==typeof t&&(t=t.toLowerCase(),e.locale.hasOwnProperty(t))?e.locale[t]:e.locale.en},e.sinceNow=function(t,n){return e.getLocale(n).sinceNow(t)},e.dateFormat=function(t,n){return e.getLocale(n).dateFormat(t)},e.removeClass=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},e.render=function(){for(var t,n,a,o,r=e.config.language,i=e.config.tagName+"."+e.config.className,s=document.querySelectorAll(i),u=0,c=s.length;c>u;u++)t=s[u],n=t.getAttribute("data-"+e.config.timestampAttr),a=new Date(1e3*n),o=e.sinceNow(a,r),o||(o=e.dateFormat(a,r),e.removeClass(t,e.config.className)),t.innerHTML=o,e.config.addTitle&&t.setAttribute("title",a.toLocaleString())},e.init=function(t){t=t||{};for(var n in t)t.hasOwnProperty(n)&&(e.config[n]=t[n]);e.render(),e.config.updateInterval&&window.setInterval(e.render,e.config.updateInterval)},e});