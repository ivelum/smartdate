!function(t,e){"use strict";"function"==typeof define&&define.amd?define("smartdate",[],e):"object"==typeof exports?module.exports=e():t.smartdate=e()}(this,function(){"use strict";var t={version:"0.6.0",config:{language:"en",tagName:"span",className:"smartdate",timestampAttr:"timestamp",addTitle:!0,updateInterval:5e3,fullMonthNames:!1,mode:"auto"}},e=t.daysBetween=function(t,e){var a=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),r=864e5,o=n.getTime()-a.getTime(),i=o/r;return Math.floor(i)},a=t.pad=function(t){return 10>t?"0"+t:t},n=t.formatAMPM=function(t){var e=t.getHours(),n=t.getMinutes(),r=e>=12?"pm":"am";return e%=12,e=e?e:12,n=a(n),e+":"+n+" "+r};return t.locale={en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:function(t,e){var a=e?this.months:this.monthsShort;return a[t.getMonth()]+" "+t.getDate()+", "+t.getFullYear()},pastFormat:function(t){var a=new Date,r=(a.getTime()-t.getTime())/1e3;return 60>r?"less than a minute ago":3600>r?Math.floor(r/60)+" min ago":0===e(a,t)?"today at "+n(t):-1===e(a,t)?"yesterday at "+n(t):void 0},futureFormat:function(t){var a=new Date,r=(t.getTime()-a.getTime())/1e3;return 60>r?"in less than a minute":3600>r?"in "+Math.floor(r/60)+" min":0===e(a,t)?"today at "+n(t):1===e(a,t)?"tomorrow at "+n(t):void 0}},ru:{months:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],monthsShort:["янв","фев","мар","апр","мая","июн","июл","авг","сен","окт","ноя","дек"],dateFormat:function(t,e){var a=e?this.months:this.monthsShort;return t.getDate()+" "+a[t.getMonth()]+" "+t.getFullYear()},pastFormat:function(t){var n=new Date,r=(n.getTime()-t.getTime())/1e3;return 60>r?"менее 1 мин назад":3600>r?Math.floor(r/60)+" мин назад":0===e(n,t)?"сегодня в "+a(t.getHours())+":"+a(t.getMinutes()):-1===e(n,t)?"вчера в "+a(t.getHours())+":"+a(t.getMinutes()):void 0},futureFormat:function(t){var n=new Date,r=(t.getTime()-n.getTime())/1e3;return 60>r?"в течение минуты":3600>r?"через "+Math.floor(r/60)+" мин":0===e(n,t)?"сегодня в "+a(t.getHours())+":"+a(t.getMinutes()):1===e(n,t)?"завтра в "+a(t.getHours())+":"+a(t.getMinutes()):void 0}}},t.getLocale=function(e){return e=e||t.config.language,"string"==typeof e&&(e=e.toLowerCase(),t.locale.hasOwnProperty(e))?t.locale[e]:t.locale.en},t.pastFormat=function(e,a){return t.getLocale(a).pastFormat(e)},t.futureFormat=function(e,a){return t.getLocale(a).futureFormat(e)},t.dateFormat=function(e,a,n){return a=a||t.config.fullMonthNames,t.getLocale(n).dateFormat(e,a)},t.removeClass=function(t,e){t.classList?t.classList.remove(e):t.className=t.className.replace(new RegExp("(^|\\b)"+e.split(" ").join("|")+"(\\b|$)","gi")," ")},t.render=function(){for(var e,a,n,r,o=t.config.fullMonthNames,i=t.getLocale(),u=t.config.mode,s=t.config.tagName+"."+t.config.className,m=document.querySelectorAll(s),g=(new Date).getTime()/1e3,l=0,c=m.length;c>l;l++)e=m[l],a=+e.getAttribute("data-"+t.config.timestampAttr),n=new Date(1e3*a),r=null,"dates"!==u&&("past"===u?a=g-1:"future"===u&&(a=g+1),r=a>g?i.futureFormat(n):i.pastFormat(n)),r||(r=i.dateFormat(n,o),t.removeClass(e,t.config.className)),e.innerHTML=r,t.config.addTitle&&e.setAttribute("title",n.toLocaleString())},t.init=function(e){e=e||{};for(var a in e)e.hasOwnProperty(a)&&(t.config[a]=e[a]);t.render(),t.config.updateInterval&&window.setInterval(t.render,t.config.updateInterval)},t});