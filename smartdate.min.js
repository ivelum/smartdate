!function(e){"use strict";var t={version:"0.3.0",config:{language:"en",tagName:"span",className:"smartdate",timestampAttr:"timestamp",addTitle:!0,updateInterval:5e3}},a=t.daysBetween=function(e,t){var a=new Date(e.getFullYear(),e.getMonth(),e.getDate()),n=new Date(t.getFullYear(),t.getMonth(),t.getDate()),r=864e5,o=n.getTime()-a.getTime(),i=o/r;return Math.floor(i)},n=t.pad=function(e){return 10>e?"0"+e:e},r=t.formatAMPM=function(e){var t=e.getHours(),a=e.getMinutes(),r=t>=12?"pm":"am";return t%=12,t=t?t:12,a=n(a),t+":"+a+" "+r};t.locale={en:{dateFormat:function(e){var t=["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"];return t[e.getMonth()]+" "+e.getDate()+", "+e.getFullYear()},sinceNow:function(e){var t=new Date,n=(t.getTime()-e.getTime())/1e3;return 60>n?"less than a minute ago":3600>n?Math.floor(n/60)+" min ago":0===a(t,e)?"today at "+r(e):-1===a(t,e)?"yesterday at "+r(e):void 0}},ru:{dateFormat:function(e){var t=["янв","фев","мар","апр","мая","июн","июл","авг","сен","окт","ноя","дек"];return e.getDate()+" "+t[e.getMonth()]+" "+e.getFullYear()},sinceNow:function(e){var t=new Date,r=(t.getTime()-e.getTime())/1e3;return 60>r?"менее 1 мин назад":3600>r?Math.floor(r/60)+" мин назад":0===a(t,e)?"сегодня в "+n(e.getHours())+":"+n(e.getMinutes()):-1===a(t,e)?"вчера в "+n(e.getHours())+":"+n(e.getMinutes()):void 0}}},t.getLocale=function(e){return"string"==typeof e&&(e=e.toLowerCase(),t.locale.hasOwnProperty(e))?t.locale[e]:t.locale.en},t.sinceNow=function(e,a){return t.getLocale(a).sinceNow(e)},t.dateFormat=function(e,a){return t.getLocale(a).dateFormat(e)},t.removeClass=function(e,t){e.classList?e.classList.remove(t):e.className=e.className.replace(new RegExp("(^|\\b)"+t.split(" ").join("|")+"(\\b|$)","gi")," ")},t.render=function(){var e=t.config.language,a=t.config.tagName+"."+t.config.className,n=document.querySelectorAll(a);Array.prototype.forEach.call(n,function(a){var n=a.getAttribute("data-"+t.config.timestampAttr),r=new Date(1e3*n),o=t.sinceNow(r,e);o||(o=t.dateFormat(r,e),t.removeClass(a,t.config.className)),a.innerHTML=o,t.config.addTitle&&a.setAttribute("title",r.toLocaleString())})},t.init=function(a){a=a||{};for(var n in a)a.hasOwnProperty(n)&&(t.config[n]=a[n]);t.render(),t.config.updateInterval&&e.setInterval(t.render,t.config.updateInterval)},"function"==typeof define&&define.amd?define("smartdate",[],function(){return t}):e.smartdate=t}(window);