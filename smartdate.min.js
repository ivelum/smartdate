!function(t,e){"use strict";"function"==typeof define&&define.amd?define("smartdate",[],e):"object"==typeof exports?module.exports=e():t.smartdate=e()}(this,function(){"use strict";var t={version:"0.8.1",config:{language:"en",tagName:"span",className:"smartdate",addTitle:!0,updateInterval:5e3,fullMonthNames:!1,capitalize:!1,mode:"auto"}},e=t.daysBetween=function(t,e){var a=new Date(t.getFullYear(),t.getMonth(),t.getDate()),n=new Date(e.getFullYear(),e.getMonth(),e.getDate()),o=864e5,r=n.getTime()-a.getTime(),i=r/o;return Math.floor(i)},a=t.pad=function(t){return 10>t?"0"+t:t};return t.now=function(){return new Date},t.locale={en:{months:["January","February","March","April","May","June","July","August","September","October","November","December"],monthsShort:["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],dateFormat:function(t,e){var a=e?this.months:this.monthsShort;return a[t.getMonth()]+" "+t.getDate()+", "+t.getFullYear()},timeFormat:function(t){var e=t.getHours(),n=t.getMinutes(),o=e>=12?"pm":"am";return e%=12,e=e?e:12,n=a(n),e+":"+n+" "+o},datetimeFormat:function(t,e){return this.dateFormat(t,e)+" at "+this.timeFormat(t)},pastFormat:function(a){var n=t.now(),o=(n.getTime()-a.getTime())/1e3;return 60>o?"less than a minute ago":3600>o?Math.floor(o/60)+" min ago":0===e(n,a)?"today at "+this.timeFormat(a):-1===e(n,a)?"yesterday at "+this.timeFormat(a):void 0},futureFormat:function(a){var n=t.now(),o=(a.getTime()-n.getTime())/1e3;return 60>o?"in less than a minute":3600>o?"in "+Math.floor(o/60)+" min":0===e(n,a)?"today at "+this.timeFormat(a):1===e(n,a)?"tomorrow at "+this.timeFormat(a):void 0}},ru:{months:["января","февраля","марта","апреля","мая","июня","июля","августа","сентября","октября","ноября","декабря"],monthsShort:["янв","фев","мар","апр","мая","июн","июл","авг","сен","окт","ноя","дек"],dateFormat:function(t,e){var a=e?this.months:this.monthsShort;return t.getDate()+" "+a[t.getMonth()]+" "+t.getFullYear()},timeFormat:function(t){return a(t.getHours())+":"+a(t.getMinutes())},datetimeFormat:function(t,e){return this.dateFormat(t,e)+" в "+this.timeFormat(t)},pastFormat:function(a){var n=t.now(),o=(n.getTime()-a.getTime())/1e3;return 60>o?"менее 1 мин назад":3600>o?Math.floor(o/60)+" мин назад":0===e(n,a)?"сегодня в "+this.timeFormat(a):-1===e(n,a)?"вчера в "+this.timeFormat(a):void 0},futureFormat:function(a){var n=t.now(),o=(a.getTime()-n.getTime())/1e3;return 60>o?"в течение минуты":3600>o?"через "+Math.floor(o/60)+" мин":0===e(n,a)?"сегодня в "+this.timeFormat(a):1===e(n,a)?"завтра в "+this.timeFormat(a):void 0}}},t.getLocale=function(e){return e=e||t.config.language,"string"==typeof e&&(e=e.toLowerCase(),t.locale.hasOwnProperty(e))?t.locale[e]:t.locale.en},t.getOptions=function(e){e=e||{};for(var a in t.config)t.config.hasOwnProperty(a)&&!e.hasOwnProperty(a)&&(e[a]=t.config[a]);return e},t.format=function(e,a){if(!(e instanceof Date)){if("string"==typeof e&&(e=Number(e)),"number"!=typeof e||isNaN(e))return null;e=new Date(1e3*e)}a=t.getOptions(a);var n=null,o=t.getLocale(a.language),r=t.now().getTime(),i=e.getTime();return"date"===a.mode?n=o.dateFormat(e,a.fullMonthNames):"datetime"===a.mode?n=o.datetimeFormat(e,a.fullMonthNames):("past"===a.mode?i=r-1:"future"===a.mode&&(i=r+1),n=i>r?o.futureFormat(e):o.pastFormat(e),n=n||o.dateFormat(e,a.fullMonthNames)),a.capitalize&&(n=n.charAt(0).toUpperCase()+n.slice(1)),n},t.render=function(){for(var e,a,n,o,r,i=t.config,m=i.tagName+"."+i.className,u=document.querySelectorAll(m),s=0,g=u.length;g>s;s++){a=u[s],r=+a.getAttribute("data-timestamp"),n={};for(var l in i)i.hasOwnProperty(l)&&a.hasAttribute("data-"+l)&&(o=a.getAttribute("data-"+l).toLowerCase(),"boolean"==typeof i[l]&&(o="true"===o),n[l]=o);n=t.getOptions(n),e=new Date(1e3*r),a.innerHTML=t.format(e,n),n.addTitle&&a.setAttribute("title",e.toLocaleString())}},t.setup=function(e){t.config=t.getOptions(e)},t.init=function(e){t.setup(e),t.render(),t.config.updateInterval&&window.setInterval(t.render,t.config.updateInterval)},t.tag=function(e,a){var n,o;return e instanceof Date?o=Math.round(e.getTime()/1e3):(o=e,e=new Date(1e3*o)),n=document.createElement(t.config.tagName),n.className=t.config.className,n.setAttribute("data-timestamp",o),a=t.getOptions(a),n.innerHTML=t.format(e,a),a.addTitle&&n.setAttribute("title",e.toLocaleString()),n},t});